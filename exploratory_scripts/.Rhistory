){
c <- c()
pd <- 1-abs(cumsum(rep(price_deviation_target, n_orders)))
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-1))) * as.numeric(i>1))
c <- append(c, calc)
}
return(c)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- 1-abs(cumsum(rep(price_deviation_target, n_orders)))
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
}
return(c)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- 1-abs(cumsum(rep(price_deviation_target, n_orders)))
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
}
return(pd)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders))))[1:n_orders-1]
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
}
return(pd)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders))))[1:n_orders-1]
quantity <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
}
return(quantity)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
}
return(quantity)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[i])/sum(quantity))
}
return(average_buy_price)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
)
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
) %>% plot(., type = "l")
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(average_buy_price)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
25,
23259.66661347
) %>% plot(., type = "l")
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
) %>% plot(., type = "l")
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
c(1,2,3)*c(1,2,3)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(quantity)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)%>% plot(., type = "l")
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(calc)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)%>% plot(., type = "l")
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1-abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(pd)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, 1*abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(pd)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, abs(cumsum(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(pd)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
order_size <- function(
base_order_size,
DCA_order_size,
dca_multiplier,
price_deviation_target,
n_orders,
capital
){
c <- c()
pd <- c(1, cumsum(abs(rep(price_deviation_target, n_orders)))[1:n_orders-1])
quantity <- c()
average_buy_price <- c()
for (i in 1:n_orders){
if (i < 3){
dm <- 1
}
else{
dm <- dca_multiplier
}
calc <- (capital*base_order_size) * as.numeric(i==1) +
(( (capital*DCA_order_size) * (dm^(i-2))) * as.numeric(i>1))
c <- append(c, calc)
quantity <- append(quantity, calc/pd[i])
average_buy_price <- append(average_buy_price, sum(quantity*pd[1:i])/sum(quantity))
}
return(pd)
}
order_size(
0.010173,
0.01007,
1.1,
-0.0133,
100,
23259.66661347
)
1/0.0133
1-0.0133/0.0133
(1-0.0133)/0.0133
(1-0.0133)/1
(1-1000)/1
1/74
1/(1-0.0133)
1/(1-10)
